meshes:
  # Mesh "default" — basic ingress + egress, no custom overrides
  - name: default
    ingress:
      enabled: true
    egress:
      enabled: true

  # Mesh "payments" — demonstrates per-mesh customization
  - name: payments
    ingress:
      enabled: true
      resources:
        requests:
          cpu: 100m
          memory: 64Mi
      podSpec:
        nodeSelector:
          kubernetes.io/os: linux
      hpa:
        minReplicas: 2
        maxReplicas: 5
        metrics:
          - type: Resource
            resource:
              name: cpu
              target:
                type: Utilization
                averageUtilization: 80
    egress:
      enabled: true
